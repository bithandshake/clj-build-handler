<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{padding:3px 12px;white-space:inherit;letter-spacing:.5px}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xs{font-size:10px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;left:0;position:fixed;width:100%}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0 54px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0 54px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}</script></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="color--soft-grey text--xs text--uppercase">Clojure namespaces</pre><a href="https://mt-devtools.github.io/clj-build-handler/clj/build-handler/api.html"><pre class="button color--hard-blue text--m button--active">build-handler.api</pre></a></div><div class="primary-list--container"><pre class="color--soft-grey text--xs text--uppercase">ClojureScript namespaces</pre><a href="https://mt-devtools.github.io/clj-build-handler/cljs/build-handler/api.html"><pre class="button color--hard-blue text--m ">build-handler.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="color--soft-grey text--xs text--uppercase">Tutorials</pre><a href="#how-to-get-the-actual-build-version"><pre class="button color--hard-purple text--m">How to get the actual build version?</pre></a><a href="#how-to-update-the-actual-build-version"><pre class="button color--hard-purple text--m">How to update the actual build version?</pre></a></div><div class="secondary-list--container"><pre class="color--soft-grey text--xs text--uppercase">Declarations</pre><a href="#default-build-version-filepath"><pre class="button color--hard-blue text--m">DEFAULT-BUILD-VERSION-FILEPATH</pre></a><a href="#initial-build-version"><pre class="button color--hard-blue text--m">INITIAL-BUILD-VERSION</pre></a><a href="#get-actual-build-version"><pre class="button color--hard-blue text--m">get-actual-build-version</pre></a><a href="#update-build-version_"><pre class="button color--hard-blue text--m">update-build-version!</pre></a><a href="#uri_-actual-build-version"><pre class="button color--hard-blue text--m">uri<-actual-build-version</pre></a><a href="#uri_-build-version"><pre class="button color--hard-blue text--m">uri<-build-version</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">Clojure namespace</pre><pre class="color--black text--xl text--wrap text--bold">build-handler.api</pre></div><div class="sections"><div class="section" id="how-to-get-the-actual-build-version"><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xl text--wrap text--bold">How to get the actual build version?</pre></div><div class="snippets"><div class="snippet" data-collapsed="false" data-collapsible="false" id="q49f056f6-0598-4231-851f-806ae4095ae1"><div class="snippet--header"><pre class="text--xs text--uppercase color--hard-grey text--hidden">plain</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">- The <a class="inline-link color--hard-blue" href="#get-actual-build-version">get-actual-build-version</a> function returns the actual build version<br>  stored in the EDN file at the given or at the default filepath.<br>- If the file does not contain a build version, it returns the <a class="inline-link color--hard-blue" href="#initial-build-version">INITIAL-BUILD-VERSION</a> value.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa8a35f35-3891-491b-9154-95c6afc26f5a"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(get-actual-build-version)<br>=&gt;<br>"0.4.2.0"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q933c4697-2145-41ab-8154-f7e85a70bc1f"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(get-actual-build-version {:filepath "my-build-version.edn"})<br>=&gt;<br>"0.4.2.0"</pre></div></div></div></div><div class="section" id="how-to-update-the-actual-build-version"><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xl text--wrap text--bold">How to update the actual build version?</pre></div><div class="snippets"><div class="snippet" data-collapsed="false" data-collapsible="false" id="q53e45ad1-2939-4967-91e4-6fb91fb22068"><div class="snippet--header"><pre class="text--xs text--uppercase color--hard-grey text--hidden">plain</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">The <a class="inline-link color--hard-blue" href="#update-build-version_">update-build-version!</a> function updates the build version stored in the EDN file<br>at the given or at the default filepath.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa9c935ce-abcc-447e-9563-97fc6515bf99"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(update-build-version! :auto)</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qba366ff0-a7df-47e9-a86d-10ff2be142d6"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(update-build-version! "0.4.2.0")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa3937a1c-3bc4-41d1-83aa-34e0f624f673"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(update-build-version! "0.4.2.0" {:filepath "my-build-version.edn"})</pre></div></div></div></div></div><div class="sections"><div class="section" id="default-build-version-filepath"><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">def</pre><pre class="color--hard-blue text--xl text--bold">DEFAULT-BUILD-VERSION-FILEPATH</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd06101a0-40ff-4653-b35e-3b6115d43113"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd06101a0-40ff-4653-b35e-3b6115d43113&apos;)"><pre class="text--xs text--uppercase color--hard-grey ">source-code</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">(def DEFAULT-BUILD-VERSION-FILEPATH "environment/build-version.edn")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q39733d89-6582-4222-a851-f4d7b4a923fc"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">description</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">The default build version filepath ('environment/build-version.edn') is used when no filepath is provided.</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q45f02190-19a9-4df2-a33b-6cbca0489e73"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">constant</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre></div></div></div></div><div class="section" id="initial-build-version"><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">def</pre><pre class="color--hard-blue text--xl text--bold">INITIAL-BUILD-VERSION</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7cc2a902-9653-49bf-b6eb-69e07fc950c6"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7cc2a902-9653-49bf-b6eb-69e07fc950c6&apos;)"><pre class="text--xs text--uppercase color--hard-grey ">source-code</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">(def INITIAL-BUILD-VERSION "0.0.1")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf32e595d-c9cf-43be-9315-bafd3453f789"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">description</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">The initial build version ('0.0.1') is used when no version is found in the build version file.</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qef7154c1-9b35-4f21-b284-9bd0befbb0c3"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">constant</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre></div></div></div></div><div class="section" id="get-actual-build-version"><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">defn</pre><pre class="color--hard-blue text--xl text--bold">get-actual-build-version</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf11428dd-f1d2-454c-a02d-e78f403b8bb6"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf11428dd-f1d2-454c-a02d-e78f403b8bb6&apos;)"><pre class="text--xs text--uppercase color--hard-grey ">source-code</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">(defn get-actual-build-version
  ([]
   (get-actual-build-version {}))

  ([{:keys [filepath] :or {filepath config/DEFAULT-BUILD-VERSION-FILEPATH}}]
   (-&gt; filepath io/read-edn-file (get :build-version config/INITIAL-BUILD-VERSION))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q51a6aaf8-f091-47bb-b2d6-4df6e9287402"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">description</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">- Returns the actual build version stored in the EDN file at the given or at the default filepath.<br>- If the file does not contain a build version, it returns the 'INITIAL-BUILD-VERSION' value.<br>- The EDN file must contain a map with a key ':build-version'.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q58f8e9e8-0aa7-4c7a-951a-433ae7854e9d"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(get-actual-build-version)</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q53e2a207-474e-44b0-82d6-3a1ab41ff1c0"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(get-actual-build-version {:filepath "my-build-version.edn"})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4e8c4f20-4a7c-48cd-87e2-b822ae17e6ce"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(get-actual-build-version)<br>=&gt;<br>"0.4.2.0"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q31fcfc1c-a23c-4e64-8bd7-d3fcf7f0a717"><button class="snippet--header" onClick="toggleCollapsible(&apos;q31fcfc1c-a23c-4e64-8bd7-d3fcf7f0a717&apos;)"><pre class="text--xs text--uppercase color--soft-grey ">param</pre><pre class="text--xs text--uppercase color--soft-grey">map</pre><pre class="text--xs text--uppercase color--soft-grey">opt</pre><pre class="text--xs text--uppercase text--bold color--hard-grey">options</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">{:filepath (string)(opt)<br>  Default: "environment/build-version.edn"}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q21e9b852-dbaa-4889-a1cb-8b52b3e8a066"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">return</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre></div></div></div></div><div class="section" id="uri_-actual-build-version"><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">defn</pre><pre class="color--hard-blue text--xl text--bold">uri<-actual-build-version</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q478c67fc-0b28-42fb-88b4-e0d8e825c05b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q478c67fc-0b28-42fb-88b4-e0d8e825c05b&apos;)"><pre class="text--xs text--uppercase color--hard-grey ">source-code</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">(defn uri&lt;-actual-build-version
  ([uri]
   (uri&lt;-actual-build-version uri {}))

  ([uri options]
   (let [build-version (get-actual-build-version options)]
        (utils/uri&lt;-build-version uri build-version))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q46d45d7d-4dd3-4ed2-aa6e-6c2d118f1cdd"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">description</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">- Appends the actual build version (stored in the EDN file at the given or at the default filepath) to the given URI as a query string.<br>- The EDN file must contain a map with a key ':build-version'.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q17922021-e8f7-4cfe-a52f-208ef09c88b3"><div class="snippet--header"><pre class="text--xs text--uppercase color--hard-blue ">info</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">Using the actual build version as a query parameter makes the browser's cache handler<br>updating the cached version of a file if the version changed in the URI.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3c991219-ca21-4466-b94e-aaefbe11b4bd"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(uri&lt;-actual-build-version "/my-style.css")<br>=&gt;<br>"/my-style.css?v=0.0.1"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdd88b457-2a03-4918-bcb3-8aede210a573"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(uri&lt;-actual-build-version "/my-style.css?my-param")<br>=&gt;<br>"/my-style.css?my-param&v=0.0.1"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3ed07ff8-15ae-4c74-877b-ea7d4b2675bf"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">param</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre><pre class="text--xs text--uppercase text--bold color--hard-grey">uri</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qea9ae507-00ca-4d5e-ac6e-ea8cd3cdca03"><button class="snippet--header" onClick="toggleCollapsible(&apos;qea9ae507-00ca-4d5e-ac6e-ea8cd3cdca03&apos;)"><pre class="text--xs text--uppercase color--soft-grey ">param</pre><pre class="text--xs text--uppercase color--soft-grey">map</pre><pre class="text--xs text--uppercase color--soft-grey">opt</pre><pre class="text--xs text--uppercase text--bold color--hard-grey">options</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">{:filepath (string)(opt)<br>  Default: "environment/build-version.edn"}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3cb79a57-27c9-4bec-9f0e-45f780180517"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">return</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre></div></div></div></div><div class="section" id="update-build-version_"><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">defn</pre><pre class="color--hard-blue text--xl text--bold">update-build-version!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe18ff9bf-b443-44ab-9589-a78c184ca548"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe18ff9bf-b443-44ab-9589-a78c184ca548&apos;)"><pre class="text--xs text--uppercase color--hard-grey ">source-code</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">(defn update-build-version!
  ([build-version]
   (update-build-version! build-version {}))

  ([build-version {:keys [filepath] :or {filepath config/DEFAULT-BUILD-VERSION-FILEPATH}}]
   (letfn [(get-auto-version  [] (if-let [{:keys [build-version]} (io/read-edn-file filepath)]
                                         (format/inc-version build-version)
                                         (-&gt; config/INITIAL-BUILD-VERSION)))
           (get-build-version [] (cond (string? build-version) (-&gt; build-version)
                                       (= :auto build-version) (get-auto-version)))]
          (let [build-version (get-build-version)]
               (io/write-edn-file! filepath {:build-version build-version} {:create? true})
               (-&gt; build-version)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q734d8c72-caa3-4b31-9e82-156581899257"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">description</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">- Updates the build version stored in the EDN file at the given or at the default filepath.<br>- If the given version is a specific value, it stores the provided value in the file.<br>- If the given version is ':auto', it updates the current build version in the file by increasing it.<br>- If the given version is ':auto', and the file does not contain an increasable build version,<br>  it stores the 'INITIAL-BUILD-VERSION' value in the file.<br>- An increasable build version is a string that contains only digits separated by period characters ('.').<br>- The EDN file must contain a map with a key ':build-version'.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe95e8455-6042-4c95-a703-127e73e9cf5a"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(update-build-version! :auto)</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q93cc8763-c2cb-47df-a48e-2e344696c3bc"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(update-build-version! "0.4.2.0")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q334f223d-d518-4a86-93a2-3d3a964b3e9d"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(update-build-version! "0.4.2.0" {:filepath "my-build-version.edn"})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe79adc93-ba1a-48a9-8818-037fa350f47b"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(update-build-version! :auto)<br>=&gt;<br>"0.4.2.0"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q97d3a9a7-5d1b-44ef-a10a-1317cb30ab6c"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(update-build-version! "0.4.2.0")<br>=&gt;<br>"0.4.2.0"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe28d5145-b07b-49fa-8fad-e58971e78d32"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe28d5145-b07b-49fa-8fad-e58971e78d32&apos;)"><pre class="text--xs text--uppercase color--soft-grey ">param</pre><pre class="text--xs text--uppercase color--soft-grey">keyword or string</pre><pre class="text--xs text--uppercase text--bold color--hard-grey">build-version</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">:auto</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9cb0c80b-85c4-4d89-9df8-3d7d834dce90"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9cb0c80b-85c4-4d89-9df8-3d7d834dce90&apos;)"><pre class="text--xs text--uppercase color--soft-grey ">param</pre><pre class="text--xs text--uppercase color--soft-grey">map</pre><pre class="text--xs text--uppercase color--soft-grey">opt</pre><pre class="text--xs text--uppercase text--bold color--hard-grey">options</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">{:filepath (string)(opt)<br>  Default: "environment/build-version.edn"}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe2927669-0e29-4aea-a005-945431c5819a"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">return</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre></div></div></div></div><div class="section" id="uri_-build-version"><div class="section--header"><pre class="color--soft-grey text--xs text--uppercase">defn</pre><pre class="color--hard-blue text--xl text--bold">uri<-build-version</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q62bcfe8a-04b8-4e97-8c53-bf5d63e7691a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q62bcfe8a-04b8-4e97-8c53-bf5d63e7691a&apos;)"><pre class="text--xs text--uppercase color--hard-grey ">source-code</pre></button><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">(defn uri&lt;-build-version
  [uri build-version]
  (uri/use-url-query-string uri (str "v=" build-version)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2f1e9c6c-db1b-44c3-b2eb-9e8cbcfb28be"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">description</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">Appends the given build version as a query string to the given URI.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9783d24b-e4cd-4a0a-b346-c86ff4dce09d"><div class="snippet--header"><pre class="text--xs text--uppercase color--hard-blue ">info</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey text--wrap">Using the actual build version as a query parameter in file URIs, makes the browser's cache handler update<br>the cached version of a file if the version changed in the URI.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q97e4af3f-81d1-45d3-90c1-5e728e561705"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(uri&lt;-build-version "/my-style.css" "0.0.1")<br>=&gt;<br>"/my-style.css?v=0.0.1"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd2fbf564-46af-4cf8-a32c-0d2d20006084"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">usage</pre></div><div class="snippet--text"><pre class="text--s text--boxed color--hard-grey scroll-x">(uri&lt;-build-version "/my-style.css?my-param" "0.0.1")<br>=&gt;<br>"/my-style.css?my-param&v=0.0.1"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8720eb45-a61c-402c-afc4-30e2af91fad3"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">param</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre><pre class="text--xs text--uppercase text--bold color--hard-grey">uri</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q63e52b31-ddde-40d9-8a76-4b02304126e2"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">param</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre><pre class="text--xs text--uppercase text--bold color--hard-grey">build-version</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4e6f8eec-abf8-4767-b4ae-94ad6d177129"><div class="snippet--header"><pre class="text--xs text--uppercase color--soft-grey ">return</pre><pre class="text--xs text--uppercase color--soft-grey">string</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xl text--bold" id="top-bar--library-name">clj-build-handler</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.0.7.3</pre><a class="text--s" href="https://github.com/mt-devtools/clj-build-handler" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-devtools/clj-build-handler</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
