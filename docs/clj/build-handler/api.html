<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:0 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{padding:3px 12px;white-space:inherit;letter-spacing:.5px}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xs{font-size:10px;line-height:18px;text-transform:uppercase}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .content-block--text{display:none}[data-collapsible="true"] .content-block--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .content-block--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;left:0;position:fixed;width:100%}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0 54px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0 54px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#namespace-header--title{margin-top:24px}.section{padding-top:144px}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.content-blocks{display:flex;flex-direction:column;gap:24px}.content-block--header{display:flex;gap:4px}.content-block--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}</script></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="color--soft-grey text--xs">Clojure namespaces</pre><a href="https://mt-devtools.github.io/clj-build-handler/clj/build-handler/api.html"><pre class="button color--hard-blue text--m button--active">build-handler.api</pre></a></div><div class="primary-list--container"><pre class="color--soft-grey text--xs">ClojureScript namespaces</pre><a href="https://mt-devtools.github.io/clj-build-handler/cljs/build-handler/api.html"><pre class="button color--hard-blue text--m ">build-handler.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="color--soft-grey text--xs">Tutorials</pre><a href="#how-to-get-the-actual-build-version"><pre class="button color--hard-purple text--m">How to get the actual build version?</pre></a><a href="#how-to-update-the-actual-build-version"><pre class="button color--hard-purple text--m">How to update the actual build version?</pre></a></div><div class="secondary-list--container"><pre class="text--xs color--soft-grey">Declarations</pre><a href="#default-build-version-filepath"><pre class="button color--hard-blue text--m">DEFAULT-BUILD-VERSION-FILEPATH</pre></a><a href="#initial-build-version"><pre class="button color--hard-blue text--m">INITIAL-BUILD-VERSION</pre></a><a href="#get-actual-build-version"><pre class="button color--hard-blue text--m">get-actual-build-version</pre></a><a href="#update-build-version_"><pre class="button color--hard-blue text--m">update-build-version!</pre></a><a href="#uri_-actual-build-version"><pre class="button color--hard-blue text--m">uri<-actual-build-version</pre></a><a href="#uri_-build-version"><pre class="button color--hard-blue text--m">uri<-build-version</pre></a></div></div></div><div id="namespace-header"><pre class="text--xl text--bold" id="namespace-header--title">build-handler.api</pre><pre class="color--soft-grey text--xs">Clojure namespace</pre></div><div class="sections"><div class="section" id="how-to-get-the-actual-build-version"><div class="section--header"><pre class="color--soft-grey text--xs">tutorial</pre><pre class="color--hard-purple text--xl text--wrap text--bold">How to get the actual build version?</pre></div><div class="content-blocks"><div class="content-block" data-collapsed="false" data-collapsible="false" id="q707619ab-7a6f-4af2-971c-482e0c988e5e"><div class="content-block--header"><pre class="text--hidden">plain</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">- The <a class="inline-link color--hard-blue" href="#get-actual-build-version">get-actual-build-version</a> function returns the actual build version<br>  stored in the EDN file at the given or at the default filepath.<br>- If the file does not contain a build version, it returns the <a class="inline-link color--hard-blue" href="#initial-build-version">INITIAL-BUILD-VERSION</a> value.</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qd49e5f78-a9e9-47b4-929a-68d642074a65"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(get-actual-build-version)<br>=&gt;<br>"0.4.2.0"</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qdd890a67-9e98-443a-88fb-9295fb7e343d"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(get-actual-build-version {:filepath "my-build-version.edn"})<br>=&gt;<br>"0.4.2.0"</pre></div></div></div></div><div class="section" id="how-to-update-the-actual-build-version"><div class="section--header"><pre class="color--soft-grey text--xs">tutorial</pre><pre class="color--hard-purple text--xl text--wrap text--bold">How to update the actual build version?</pre></div><div class="content-blocks"><div class="content-block" data-collapsed="false" data-collapsible="false" id="qa50d3c72-b2aa-44db-b54b-bf5eccb925e8"><div class="content-block--header"><pre class="text--hidden">plain</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">The <a class="inline-link color--hard-blue" href="#update-build-version_">update-build-version!</a> function updates the build version stored in the EDN file<br>at the given or at the default filepath.</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q0edafb85-8b6e-4cfc-9d25-208d7d62a548"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(update-build-version! :auto)</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qa5dc6d1a-2348-492a-bf05-bc9f5969f0d2"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(update-build-version! "0.4.2.0")</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qd93e7f70-06a5-4f11-8799-4939f862cf90"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(update-build-version! "0.4.2.0" {:filepath "my-build-version.edn"})</pre></div></div></div></div></div><div class="sections"><div class="section" id="default-build-version-filepath"><div class="section--header"><pre class="color--soft-grey text--xs">def</pre><pre class="color--hard-blue text--xl text--bold">DEFAULT-BUILD-VERSION-FILEPATH</pre></div><div class="content-blocks"><div class="content-block" data-collapsed="true" data-collapsible="true" id="qa5e5754c-b20d-477e-82b8-75e1bf7f4feb"><button class="content-block--header" onClick="toggleCollapsible(&apos;qa5e5754c-b20d-477e-82b8-75e1bf7f4feb&apos;)"><pre class="color--hard-grey text--xs">source-code</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(def DEFAULT-BUILD-VERSION-FILEPATH "environment/build-version.edn")</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q724445cb-667a-484b-bc4a-8751b269ad3f"><div class="content-block--header"><pre class="color--soft-grey text--xs">description</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">The default build version filepath ('environment/build-version.edn') is used when no filepath is provided.</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="q408b3f12-56a0-4487-a566-c80415377063"><div class="content-block--header"><pre class="color--soft-grey text--xs">constant</pre><pre class="color--soft-grey text--xs">string</pre></div></div></div></div><div class="section" id="initial-build-version"><div class="section--header"><pre class="color--soft-grey text--xs">def</pre><pre class="color--hard-blue text--xl text--bold">INITIAL-BUILD-VERSION</pre></div><div class="content-blocks"><div class="content-block" data-collapsed="true" data-collapsible="true" id="qe6bd53be-8df3-494b-86cf-0a404bafafce"><button class="content-block--header" onClick="toggleCollapsible(&apos;qe6bd53be-8df3-494b-86cf-0a404bafafce&apos;)"><pre class="color--hard-grey text--xs">source-code</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(def INITIAL-BUILD-VERSION "0.0.1")</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q6fae0257-251e-45e8-9613-dfec1e78a88e"><div class="content-block--header"><pre class="color--soft-grey text--xs">description</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">The initial build version ('0.0.1') is used when no version is found in the build version file.</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="q0adee464-55af-4399-8c7f-c64e2b920c96"><div class="content-block--header"><pre class="color--soft-grey text--xs">constant</pre><pre class="color--soft-grey text--xs">string</pre></div></div></div></div><div class="section" id="get-actual-build-version"><div class="section--header"><pre class="color--soft-grey text--xs">defn</pre><pre class="color--hard-blue text--xl text--bold">get-actual-build-version</pre></div><div class="content-blocks"><div class="content-block" data-collapsed="true" data-collapsible="true" id="q9c6026c2-2f35-4652-b7e9-da6cb5870718"><button class="content-block--header" onClick="toggleCollapsible(&apos;q9c6026c2-2f35-4652-b7e9-da6cb5870718&apos;)"><pre class="color--hard-grey text--xs">source-code</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(defn get-actual-build-version
  ([]
   (get-actual-build-version {}))

  ([{:keys [filepath] :or {filepath config/DEFAULT-BUILD-VERSION-FILEPATH}}]
   (-&gt; filepath io/read-edn-file (get :build-version config/INITIAL-BUILD-VERSION))))</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qcc01ecac-2770-45dd-bf13-83ccc9dc078c"><div class="content-block--header"><pre class="color--soft-grey text--xs">description</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">- Returns the actual build version stored in the EDN file at the given or at the default filepath.<br>- If the file does not contain a build version, it returns the 'INITIAL-BUILD-VERSION' value.<br>- The EDN file must contain a map with a key ':build-version'.</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qebfdcf89-d14e-4a83-87d4-917483f50704"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(get-actual-build-version)</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qfaf5a22f-aa09-45ec-a3de-ac8aebcd08c0"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(get-actual-build-version {:filepath "my-build-version.edn"})</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qee58f974-42b4-4481-89a4-7f2f8ac12ffa"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(get-actual-build-version)<br>=&gt;<br>"0.4.2.0"</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="true" id="q3025bda0-d9b6-476c-8d6a-524286dfc9ae"><button class="content-block--header" onClick="toggleCollapsible(&apos;q3025bda0-d9b6-476c-8d6a-524286dfc9ae&apos;)"><pre class="color--soft-grey text--xs">param</pre><pre class="color--soft-grey text--xs">map</pre><pre class="color--soft-grey text--xs">opt</pre><pre class="color--hard-grey text--xs text--bold">options</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">{:filepath (string)(opt)<br>  Default: "environment/build-version.edn"}</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="qb2d7e0eb-346c-4e16-935c-cf516815dacb"><div class="content-block--header"><pre class="color--soft-grey text--xs">return</pre><pre class="color--soft-grey text--xs">string</pre></div></div></div></div><div class="section" id="uri_-actual-build-version"><div class="section--header"><pre class="color--soft-grey text--xs">defn</pre><pre class="color--hard-blue text--xl text--bold">uri<-actual-build-version</pre></div><div class="content-blocks"><div class="content-block" data-collapsed="true" data-collapsible="true" id="q1faa7619-6a02-4ba5-9025-29f251e826da"><button class="content-block--header" onClick="toggleCollapsible(&apos;q1faa7619-6a02-4ba5-9025-29f251e826da&apos;)"><pre class="color--hard-grey text--xs">source-code</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(defn uri&lt;-actual-build-version
  ([uri]
   (uri&lt;-actual-build-version uri {}))

  ([uri options]
   (let [build-version (get-actual-build-version options)]
        (utils/uri&lt;-build-version uri build-version))))</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q209ee3d4-a2ef-4cc6-a595-6b9c967ee3e8"><div class="content-block--header"><pre class="color--soft-grey text--xs">description</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">- Appends the actual build version (stored in the EDN file at the given or at the default filepath) to the given URI as a query string.<br>- The EDN file must contain a map with a key ':build-version'.</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q1d4c3c44-3901-4c6e-a48c-7f55259b1c0c"><div class="content-block--header"><pre class="color--hard-blue text--xs">info</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">Using the actual build version as a query parameter makes the browser's cache handler<br>updating the cached version of a file if the version changed in the URI.</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qe9d574c3-a9b6-46b6-aad0-058091452438"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(uri&lt;-actual-build-version "/my-style.css")<br>=&gt;<br>"/my-style.css?v=0.0.1"</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q00edf46f-2c09-4e94-89a9-a0b12b637e4a"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(uri&lt;-actual-build-version "/my-style.css?my-param")<br>=&gt;<br>"/my-style.css?my-param&v=0.0.1"</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="qe5dd24fc-3d9b-4cb6-a536-f7a38fdba112"><div class="content-block--header"><pre class="color--soft-grey text--xs">param</pre><pre class="color--soft-grey text--xs">string</pre><pre class="color--hard-grey text--xs text--bold">uri</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="true" id="qc0bace6a-4fde-4988-9719-879c89162594"><button class="content-block--header" onClick="toggleCollapsible(&apos;qc0bace6a-4fde-4988-9719-879c89162594&apos;)"><pre class="color--soft-grey text--xs">param</pre><pre class="color--soft-grey text--xs">map</pre><pre class="color--soft-grey text--xs">opt</pre><pre class="color--hard-grey text--xs text--bold">options</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">{:filepath (string)(opt)<br>  Default: "environment/build-version.edn"}</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="q75ee3cf2-32f3-40c7-a35c-57657c672863"><div class="content-block--header"><pre class="color--soft-grey text--xs">return</pre><pre class="color--soft-grey text--xs">string</pre></div></div></div></div><div class="section" id="update-build-version_"><div class="section--header"><pre class="color--soft-grey text--xs">defn</pre><pre class="color--hard-blue text--xl text--bold">update-build-version!</pre></div><div class="content-blocks"><div class="content-block" data-collapsed="true" data-collapsible="true" id="q8d608519-9b32-4032-b353-d9ed262bed37"><button class="content-block--header" onClick="toggleCollapsible(&apos;q8d608519-9b32-4032-b353-d9ed262bed37&apos;)"><pre class="color--hard-grey text--xs">source-code</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(defn update-build-version!
  ([build-version]
   (update-build-version! build-version {}))

  ([build-version {:keys [filepath] :or {filepath config/DEFAULT-BUILD-VERSION-FILEPATH}}]
   (letfn [(get-auto-version  [] (if-let [{:keys [build-version]} (io/read-edn-file filepath)]
                                         (format/inc-version build-version)
                                         (-&gt; config/INITIAL-BUILD-VERSION)))
           (get-build-version [] (cond (string? build-version) (-&gt; build-version)
                                       (= :auto build-version) (get-auto-version)))]
          (let [build-version (get-build-version)]
               (io/write-edn-file! filepath {:build-version build-version} {:create? true})
               (-&gt; build-version)))))</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qf9650b9c-e910-40e7-a40a-5fa8445ff92b"><div class="content-block--header"><pre class="color--soft-grey text--xs">description</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">- Updates the build version stored in the EDN file at the given or at the default filepath.<br>- If the given version is a specific value, it stores the provided value in the file.<br>- If the given version is ':auto', it updates the current build version in the file by increasing it.<br>- If the given version is ':auto', and the file does not contain an increasable build version,<br>  it stores the 'INITIAL-BUILD-VERSION' value in the file.<br>- An increasable build version is a string that contains only digits separated by period characters ('.').<br>- The EDN file must contain a map with a key ':build-version'.</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q894db2ce-4370-4019-9309-2136f4a2c748"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(update-build-version! :auto)</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qd94c551d-c5e9-4559-b6e6-5031963933f3"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(update-build-version! "0.4.2.0")</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q9b7182fe-bf9f-4d08-b7b8-653bd9ef810a"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(update-build-version! "0.4.2.0" {:filepath "my-build-version.edn"})</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q04537ddc-45f7-47a3-86e8-c5bc9dbe0004"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(update-build-version! :auto)<br>=&gt;<br>"0.4.2.0"</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qcd200bc3-b8c8-4894-bc23-0eb97f4e901f"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(update-build-version! "0.4.2.0")<br>=&gt;<br>"0.4.2.0"</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="true" id="q8415a7d0-01d2-4663-a34a-e557c0a1debd"><button class="content-block--header" onClick="toggleCollapsible(&apos;q8415a7d0-01d2-4663-a34a-e557c0a1debd&apos;)"><pre class="color--soft-grey text--xs">param</pre><pre class="color--soft-grey text--xs">keyword or string</pre><pre class="color--hard-grey text--xs text--bold">build-version</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">:auto</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="true" id="qebc1776c-84ff-48ef-bf1f-ccbbc5e5e7b5"><button class="content-block--header" onClick="toggleCollapsible(&apos;qebc1776c-84ff-48ef-bf1f-ccbbc5e5e7b5&apos;)"><pre class="color--soft-grey text--xs">param</pre><pre class="color--soft-grey text--xs">map</pre><pre class="color--soft-grey text--xs">opt</pre><pre class="color--hard-grey text--xs text--bold">options</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">{:filepath (string)(opt)<br>  Default: "environment/build-version.edn"}</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="q5f7e75a5-3b79-446e-b05a-0bd1e42b9990"><div class="content-block--header"><pre class="color--soft-grey text--xs">return</pre><pre class="color--soft-grey text--xs">string</pre></div></div></div></div><div class="section" id="uri_-build-version"><div class="section--header"><pre class="color--soft-grey text--xs">defn</pre><pre class="color--hard-blue text--xl text--bold">uri<-build-version</pre></div><div class="content-blocks"><div class="content-block" data-collapsed="true" data-collapsible="true" id="q6bd47271-a216-458a-a31f-4462a970c11d"><button class="content-block--header" onClick="toggleCollapsible(&apos;q6bd47271-a216-458a-a31f-4462a970c11d&apos;)"><pre class="color--hard-grey text--xs">source-code</pre></button><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(defn uri&lt;-build-version
  [uri build-version]
  (uri/use-url-query-string uri (str "v=" build-version)))</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q536698f4-78fb-4fb1-8232-8a441856470d"><div class="content-block--header"><pre class="color--soft-grey text--xs">description</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">Appends the given build version as a query string to the given URI.</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q840102fb-43d4-43e6-b437-ef7d07d7730d"><div class="content-block--header"><pre class="color--hard-blue text--xs">info</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed text--wrap">Using the actual build version as a query parameter in file URIs, makes the browser's cache handler update<br>the cached version of a file if the version changed in the URI.</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="q7744f1d4-f4b5-4f42-ab29-d9eba4268644"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(uri&lt;-build-version "/my-style.css" "0.0.1")<br>=&gt;<br>"/my-style.css?v=0.0.1"</pre></div></div><div class="content-block" data-collapsed="false" data-collapsible="false" id="qef9dec8d-b293-42c4-b87f-43b1cc05a5f8"><div class="content-block--header"><pre class="color--soft-grey text--xs">usage</pre></div><div class="content-block--text"><pre class="color--hard-grey text--s text--boxed scroll-x">(uri&lt;-build-version "/my-style.css?my-param" "0.0.1")<br>=&gt;<br>"/my-style.css?my-param&v=0.0.1"</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="qc2280dd4-f694-4ec3-961f-86f2976416d1"><div class="content-block--header"><pre class="color--soft-grey text--xs">param</pre><pre class="color--soft-grey text--xs">string</pre><pre class="color--hard-grey text--xs text--bold">uri</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="q9bb156bc-dda5-4f2c-b8e3-3e422f6a49cc"><div class="content-block--header"><pre class="color--soft-grey text--xs">param</pre><pre class="color--soft-grey text--xs">string</pre><pre class="color--hard-grey text--xs text--bold">build-version</pre></div></div><div class="content-block" data-collapsed="true" data-collapsible="false" id="qf37b1ff5-db08-45bd-bee4-77d54e58344a"><div class="content-block--header"><pre class="color--soft-grey text--xs">return</pre><pre class="color--soft-grey text--xs">string</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xl text--bold" id="top-bar--library-name">clj-build-handler</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.0.7.2</pre><a class="text--s" href="https://github.com/mt-devtools/clj-build-handler" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-devtools/clj-build-handler</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
